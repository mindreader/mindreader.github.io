<!DOCTYPE HTML><html><head><link href="public/highlight/styles/pojoaque.css" rel="stylesheet"><link href="public/reveal.js-3.3.0/css/reveal.css" rel="stylesheet"><link href="public/reveal.js-3.3.0/css/theme/black.css" rel="stylesheet"></head><body style="background-color: black"><div class="reveal"><div class="slides"><section><section><h1>Lens</h1><h4 style="margin-bottom: 40px">The practical use of Edward A. Kmett&#39;s lens library</h4></section><section><h1>Lens</h1><h4 style="margin-bottom: 40px">The practical use of Edward A. Kmett&#39;s lens library</h4><h5>View slides online at:</h5><span>https://mindreader.github.io/lens-slides</span></section></section><section><section><span>It all starts with the optical</span><pre>  <font color="#b64926">type</font> <font color="#b58900">Optical</font> <font color="#dccf8f">p</font> <font color="#dccf8f">q</font> <font color="#dccf8f">f</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">=</font> <font color="#dccf8f">p</font> <font color="#dccf8f">a</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">q</font> <font color="#dccf8f">s</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">t</font><font color="#dccf8f">)</font>
</pre></section><section><pre>  <font color="#b64926">type</font> <font color="#b58900">Optical</font> <font color="#dccf8f">p</font> <font color="#dccf8f">q</font> <font color="#dccf8f">f</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">=</font> <font color="#dccf8f">p</font> <font color="#dccf8f">a</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">q</font> <font color="#dccf8f">s</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">t</font><font color="#dccf8f">)</font>
</pre><pre>  <font color="#b64926">type</font> <font color="#b58900">LensLike</font> <font color="#b64926">=</font> <font color="#b58900">Optical</font> <font color="#dccf8f">(</font><font color="#b64926">-&gt;</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#b64926">-&gt;</font><font color="#dccf8f">)</font> <font color="#dccf8f">f</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font>
</pre></section><section><pre>  <font color="#b64926">type</font> <font color="#b58900">Optical</font> <font color="#dccf8f">p</font> <font color="#dccf8f">q</font> <font color="#dccf8f">f</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">=</font> <font color="#dccf8f">p</font> <font color="#dccf8f">a</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">q</font> <font color="#dccf8f">s</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">t</font><font color="#dccf8f">)</font>
</pre><pre>  <font color="#b64926">type</font> <font color="#b58900">LensLike</font> <font color="#b64926">=</font> <font color="#b58900">Optical</font> <font color="#dccf8f">(</font><font color="#b64926">-&gt;</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#b64926">-&gt;</font><font color="#dccf8f">)</font> <font color="#dccf8f">f</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font>
</pre><span>after some substitution</span><pre>  <font color="#b64926">type</font> <font color="#b58900">LensLike</font> <font color="#b64926">=</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">t</font>
</pre></section><section><span>everything has this same shape</span></section><section><span>everything has this same shape</span><pre><font color="#b64926">type</font> <font color="#b58900">Lens</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">=</font>
  <font color="#b58900">Functor</font> <font color="#dccf8f">f</font> <font color="#b64926">=&gt;</font>
    <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">t</font>

<font color="#b64926">type</font> <font color="#b58900">Setter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">=</font>
  <font color="#b58900">Settable</font> <font color="#dccf8f">f</font> <font color="#b64926">=&gt;</font>
    <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">t</font>

<font color="#b64926">type</font> <font color="#b58900">Getter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">=</font>
  <font color="#dccf8f">(</font><font color="#b58900">Contravariant</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Functor</font> <font color="#dccf8f">f</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
    <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">s</font>

<font color="#b64926">type</font> <font color="#b58900">Iso</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">=</font>
  <font color="#dccf8f">(</font><font color="#b58900">Profunctor</font> <font color="#dccf8f">p</font><font color="#dccf8f">,</font> <font color="#b58900">Functor</font> <font color="#dccf8f">f</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
    <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">t</font>
  </pre></section><section><span>everything has this same shape</span><pre>
<font color="#b64926">type</font> <font color="#b58900">Traversal</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">=</font>
  <font color="#b58900">Applicative</font> <font color="#dccf8f">f</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">t</font>

<font color="#b64926">type</font> <font color="#b58900">Fold</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">=</font>
  <font color="#dccf8f">(</font><font color="#b58900">Contravariant</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Applicative</font> <font color="#dccf8f">f</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
    <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">s</font>

<font color="#b64926">type</font> <font color="#b58900">Prism</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">=</font>
  <font color="#dccf8f">(</font><font color="#b58900">Choice</font> <font color="#dccf8f">p</font><font color="#dccf8f">,</font> <font color="#b58900">Applicative</font> <font color="#dccf8f">f</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
    <font color="#dccf8f">p</font> <font color="#dccf8f">a</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">p</font> <font color="#dccf8f">s</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">t</font><font color="#dccf8f">)</font>
 </pre></section><section><span>takes a function, returns a function</span><pre>                 <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">t</font><font color="#dccf8f">)</font>
</pre></section><section><span>so you can string them together</span><pre><font color="#dccf8f">_1</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Functor</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Field1</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">t</font></pre><pre><font color="#dccf8f">_2</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Functor</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Field2</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">t</font></pre><pre><font color="#dccf8f">_Just</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Applicative</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Choice</font> <font color="#dccf8f">p</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
              <font color="#dccf8f">p</font> <font color="#dccf8f">a</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">p</font> <font color="#dccf8f">(</font><font color="#b58900">Maybe</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">(</font><font color="#b58900">Maybe</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font><font color="#dccf8f">)</font>
</pre><pre>     <font color="#b64926">instance</font> <font color="#b58900">Choice</font> <font color="#dccf8f">(</font><font color="#b64926">-&gt;</font><font color="#dccf8f">)</font>
</pre></section><section><span>so you can string them together</span><pre><font color="#dccf8f">_1</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Functor</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Field1</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">t</font></pre><pre><font color="#dccf8f">_2</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Functor</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Field2</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">t</font></pre><pre><font color="#dccf8f">_Just</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Applicative</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Choice</font> <font color="#dccf8f">p</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
              <font color="#dccf8f">p</font> <font color="#dccf8f">a</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">p</font> <font color="#dccf8f">(</font><font color="#b58900">Maybe</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">(</font><font color="#b58900">Maybe</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font><font color="#dccf8f">)</font>
</pre><pre>     <font color="#b64926">instance</font> <font color="#b58900">Choice</font> <font color="#dccf8f">(</font><font color="#b64926">-&gt;</font><font color="#dccf8f">)</font>
</pre><pre><font color="#dccf8f">_1</font> <font color="#dccf8f">.</font> <font color="#dccf8f">_Just</font> <font color="#dccf8f">.</font> <font color="#dccf8f">_2</font>  <font color="#b64926">::</font>
        <font color="#dccf8f">(</font><font color="#b58900">Applicative</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Field2</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#dccf8f">a1</font> <font color="#dccf8f">b1</font><font color="#dccf8f">,</font>
         <font color="#b58900">Field1</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">(</font><font color="#b58900">Maybe</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#b58900">Maybe</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
             <font color="#dccf8f">(</font><font color="#dccf8f">a1</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b1</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">t</font><font color="#dccf8f">)</font>
</pre></section></section><section><section><img style="width: 50%; height: 100%" src="https://imgur.com/ALlbPRa.png"></section></section><section><section><h5>Fold</h5><pre>  <font color="#b64926">type</font> <font color="#b58900">Fold</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">=</font>
      <font color="#dccf8f">(</font><font color="#b58900">Contravariant</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Applicative</font> <font color="#dccf8f">f</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
        <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">s</font>
</pre></section><section><pre>  <font color="#dccf8f">replicated</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Applicative</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Contravariant</font> <font color="#dccf8f">f</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
     <font color="#b58900">Int</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">a</font>

  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">replicated</font> <font color="#b64926">::</font> <font color="#b58900">Int</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Fold</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font>

</pre></section><section><pre>  <font color="#dccf8f">replicated</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Applicative</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Contravariant</font> <font color="#dccf8f">f</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
     <font color="#b58900">Int</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">a</font>

  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">replicated</font> <font color="#b64926">::</font> <font color="#b58900">Int</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Fold</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font>

</pre><span>takes an a, returns many a&#39;s (or none)</span></section><section><pre>  <font color="#b64926">let</font>
    <font color="#dccf8f">myfold</font> <font color="#b64926">::</font> <font color="#b58900">Fold</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font>
    <font color="#dccf8f">myfold</font> <font color="#b64926">=</font> <font color="#dccf8f">replicated</font> <font color="#586e75">5</font>
</pre></section><section><pre>  <font color="#b64926">let</font>
    <font color="#dccf8f">myfold</font> <font color="#b64926">::</font> <font color="#b58900">Fold</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font>
    <font color="#dccf8f">myfold</font> <font color="#b64926">=</font> <font color="#dccf8f">replicated</font> <font color="#586e75">5</font>
</pre><span>we have a fold. what do we do with it?</span></section><section><pre>  <font color="#586e75"><i>-- You can turn it into a list</i></font>
  <font color="#dccf8f">toListOf</font> <font color="#b64926">::</font> <font color="#b58900">Getting</font> <font color="#dccf8f">(</font><font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Monoid</font><font color="#dccf8f">.</font><font color="#b58900">Endo</font> <font color="#b64926">[</font><font color="#dccf8f">a</font><font color="#b64926">]</font><font color="#dccf8f">)</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#b64926">[</font><font color="#dccf8f">a</font><font color="#b64926">]</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">^..</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Getting</font> <font color="#dccf8f">(</font><font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Monoid</font><font color="#dccf8f">.</font><font color="#b58900">Endo</font> <font color="#b64926">[</font><font color="#dccf8f">a</font><font color="#b64926">]</font><font color="#dccf8f">)</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b64926">[</font><font color="#dccf8f">a</font><font color="#b64926">]</font>

  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">toListOf</font> <font color="#b64926">::</font> <font color="#b58900">Fold</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b64926">[</font><font color="#dccf8f">b</font><font color="#b64926">]</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">^..</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Fold</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#b64926">[</font><font color="#dccf8f">b</font><font color="#b64926">]</font>
</pre></section><section><pre>  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">toListOf</font> <font color="#dccf8f">mylens</font> <font color="#586e75">2</font>
  <font color="#b64926">[</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#b64926">]</font>

  <font color="#dccf8f">&gt;</font> <font color="#586e75">3</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">mylens</font>
  <font color="#b64926">[</font><font color="#586e75">3</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font>
</pre></section><section><pre>  <font color="#b64926">class</font> <font color="#b58900">Foldable</font> <font color="#dccf8f">t</font> <font color="#b64926">where</font>
    <font color="#dccf8f">fold</font> <font color="#b64926">::</font> <font color="#b58900">Monoid</font> <font color="#dccf8f">m</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">m</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">m</font>
    <font color="#dccf8f">foldMap</font> <font color="#b64926">::</font> <font color="#b58900">Monoid</font> <font color="#dccf8f">m</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">m</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">m</font>
    <font color="#dccf8f">foldr</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font>
    <font color="#dccf8f">foldr'</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font>
    <font color="#dccf8f">foldl</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font>
    <font color="#dccf8f">foldl'</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font>
    <font color="#dccf8f">foldr1</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font>
    <font color="#dccf8f">foldl1</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font>
    <font color="#dccf8f">toList</font> <font color="#b64926">::</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b64926">[</font><font color="#dccf8f">a</font><font color="#b64926">]</font>
    <font color="#dccf8f">null</font> <font color="#b64926">::</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Bool</font>
    <font color="#dccf8f">length</font> <font color="#b64926">::</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Int</font>
    <font color="#dccf8f">elem</font> <font color="#b64926">::</font> <font color="#b58900">Eq</font> <font color="#dccf8f">a</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Bool</font>
    <font color="#dccf8f">maximum</font> <font color="#b64926">::</font> <font color="#b64926">forall</font> <font color="#dccf8f">a</font> <font color="#dccf8f">.</font> <font color="#b58900">Ord</font> <font color="#dccf8f">a</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font>
    <font color="#dccf8f">minimum</font> <font color="#b64926">::</font> <font color="#b64926">forall</font> <font color="#dccf8f">a</font> <font color="#dccf8f">.</font> <font color="#b58900">Ord</font> <font color="#dccf8f">a</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font>
    <font color="#dccf8f">sum</font> <font color="#b64926">::</font> <font color="#b58900">Num</font> <font color="#dccf8f">a</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font>
    <font color="#dccf8f">product</font> <font color="#b64926">::</font> <font color="#b58900">Num</font> <font color="#dccf8f">a</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font>
 </pre></section><section><pre>  <font color="#dccf8f">foldOf</font> <font color="#b64926">::</font> <font color="#b58900">Getting</font> <font color="#dccf8f">a</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font>
  <font color="#dccf8f">foldMapOf</font> <font color="#b64926">::</font> <font color="#b58900">Getting</font> <font color="#dccf8f">r</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">r</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">r</font>
  <font color="#dccf8f">foldrOf</font> <font color="#b64926">::</font> <font color="#b58900">Getting</font> <font color="#dccf8f">(</font><font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Monoid</font><font color="#dccf8f">.</font><font color="#b58900">Endo</font> <font color="#dccf8f">r</font><font color="#dccf8f">)</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font>
                <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">r</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">r</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">r</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">r</font>
  <font color="#dccf8f">toListOf</font> <font color="#b64926">::</font> <font color="#b58900">Getting</font> <font color="#dccf8f">(</font><font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Monoid</font><font color="#dccf8f">.</font><font color="#b58900">Endo</font> <font color="#b64926">[</font><font color="#dccf8f">a</font><font color="#b64926">]</font><font color="#dccf8f">)</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#b64926">[</font><font color="#dccf8f">a</font><font color="#b64926">]</font>

  <font color="#dccf8f">nullOf</font> <font color="#b64926">::</font> <font color="#b58900">Getting</font> <font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Monoid</font><font color="#dccf8f">.</font><font color="#b58900">All</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Bool</font>
  <font color="#dccf8f">lengthOf</font> <font color="#b64926">::</font>
    <font color="#b58900">Getting</font> <font color="#dccf8f">(</font><font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Monoid</font><font color="#dccf8f">.</font><font color="#b58900">Endo</font> <font color="#dccf8f">(</font><font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Monoid</font><font color="#dccf8f">.</font><font color="#b58900">Endo</font> <font color="#b58900">Int</font><font color="#dccf8f">)</font><font color="#dccf8f">)</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font>
       <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Int</font>
  <font color="#586e75"><i>-- all the others...</i></font>
</pre></section><section><pre>  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">lengthOf</font> <font color="#dccf8f">mylens</font> <font color="#586e75">1</font>
  <font color="#586e75">5</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">sumOf</font> <font color="#dccf8f">mylens</font> <font color="#586e75">2</font>
  <font color="#586e75">10</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">nullOf</font> <font color="#dccf8f">mylens</font> <font color="#586e75">1</font>
  <font color="#b58900">False</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">nullOf</font> <font color="#dccf8f">(</font><font color="#dccf8f">replicated</font> <font color="#586e75">0</font><font color="#dccf8f">)</font> <font color="#586e75">1</font>
  <font color="#b58900">True</font>
</pre></section><section><pre>  <font color="#dccf8f">worded</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Applicative</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Indexable</font> <font color="#b58900">Int</font> <font color="#dccf8f">p</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
     <font color="#dccf8f">p</font> <font color="#b58900">String</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#b58900">String</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#b58900">String</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#b58900">String</font>
  <font color="#dccf8f">lined</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Applicative</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Indexable</font> <font color="#b58900">Int</font> <font color="#dccf8f">p</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
     <font color="#dccf8f">p</font> <font color="#b58900">String</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#b58900">String</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#b58900">String</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#b58900">String</font>

  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">worded</font> <font color="#b64926">::</font> <font color="#b58900">Fold</font> <font color="#b58900">String</font> <font color="#b58900">String</font>
  <font color="#dccf8f">lined</font> <font color="#b64926">::</font> <font color="#b58900">Fold</font> <font color="#b58900">String</font> <font color="#b58900">String</font>
</pre></section><section><pre>  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">toListOf</font> <font color="#dccf8f">worded</font> <font color="#586e75">"ipso facto"</font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">"ipso facto"</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">worded</font>
  <font color="#b64926">[</font><font color="#586e75">"ipso"</font><font color="#dccf8f">,</font><font color="#586e75">"facto"</font><font color="#b64926">]</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">toListOf</font> <font color="#dccf8f">lined</font> <font color="#586e75">"asdf\nqwerty asdf\n"</font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">"asdf\nqwerty asdf\n"</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">lined</font>
  <font color="#b64926">[</font><font color="#586e75">"asdf"</font><font color="#dccf8f">,</font> <font color="#586e75">"qwerty asdf"</font><font color="#b64926">]</font>
</pre></section><section><span>and of course they can be combined</span><pre>  <font color="#dccf8f">&gt;</font> <font color="#b64926">let</font> <font color="#dccf8f">txt</font> <font color="#b64926">=</font> <font color="#586e75">"asdf fdsa\nfoo bar baz\nyo"</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">toListOf</font> <font color="#dccf8f">(</font><font color="#dccf8f">lined</font> <font color="#dccf8f">.</font> <font color="#dccf8f">worded</font><font color="#dccf8f">)</font> <font color="#dccf8f">txt</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">txt</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">lined</font> <font color="#dccf8f">.</font> <font color="#dccf8f">worded</font>
  <font color="#b64926">[</font><font color="#586e75">"asdf"</font><font color="#dccf8f">,</font><font color="#586e75">"fdsa"</font><font color="#dccf8f">,</font><font color="#586e75">"foo"</font><font color="#dccf8f">,</font><font color="#586e75">"bar"</font><font color="#dccf8f">,</font><font color="#586e75">"baz"</font><font color="#dccf8f">,</font><font color="#586e75">"yo"</font><font color="#b64926">]</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">toListOf</font> <font color="#dccf8f">(</font><font color="#dccf8f">lined</font> <font color="#dccf8f">.</font> <font color="#dccf8f">replicated</font> <font color="#586e75">2</font> <font color="#dccf8f">.</font> <font color="#dccf8f">worded</font><font color="#dccf8f">)</font> <font color="#dccf8f">txt</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">txt</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">lined</font> <font color="#dccf8f">.</font> <font color="#dccf8f">replicated</font> <font color="#586e75">2</font> <font color="#dccf8f">.</font> <font color="#dccf8f">worded</font>
  <font color="#b64926">[</font><font color="#586e75">"asdf"</font><font color="#dccf8f">,</font><font color="#586e75">"fdsa"</font><font color="#dccf8f">,</font><font color="#586e75">"asdf"</font><font color="#dccf8f">,</font><font color="#586e75">"fdsa"</font><font color="#dccf8f">,</font><font color="#586e75">"foo"</font><font color="#dccf8f">,</font><font color="#586e75">"bar"</font><font color="#dccf8f">,</font><font color="#586e75">"baz"</font><font color="#dccf8f">,</font>
   <font color="#586e75">"foo"</font><font color="#dccf8f">,</font><font color="#586e75">"bar"</font><font color="#dccf8f">,</font><font color="#586e75">"baz"</font><font color="#dccf8f">,</font><font color="#586e75">"yo"</font><font color="#dccf8f">,</font><font color="#586e75">"yo"</font><font color="#b64926">]</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">txt</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">replicated</font> <font color="#586e75">2</font> <font color="#dccf8f">.</font> <font color="#dccf8f">lined</font> <font color="#dccf8f">.</font> <font color="#dccf8f">worded</font>
  <font color="#b64926">[</font><font color="#586e75">"asdf"</font><font color="#dccf8f">,</font><font color="#586e75">"fdsa"</font><font color="#dccf8f">,</font><font color="#586e75">"foo"</font><font color="#dccf8f">,</font><font color="#586e75">"bar"</font><font color="#dccf8f">,</font><font color="#586e75">"baz"</font><font color="#dccf8f">,</font><font color="#586e75">"yo"</font><font color="#dccf8f">,</font>
   <font color="#586e75">"asdf"</font><font color="#dccf8f">,</font><font color="#586e75">"fdsa"</font><font color="#dccf8f">,</font><font color="#586e75">"foo"</font><font color="#dccf8f">,</font><font color="#586e75">"bar"</font><font color="#dccf8f">,</font><font color="#586e75">"baz"</font><font color="#dccf8f">,</font><font color="#586e75">"yo"</font><font color="#b64926">]</font>
</pre></section><section><span>some other things you can do with Folds</span><pre>  <font color="#dccf8f">firstOf</font> <font color="#b64926">::</font> <font color="#b58900">Getting</font> <font color="#dccf8f">(</font><font color="#b58900">Leftmost</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Maybe</font> <font color="#dccf8f">a</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">^?</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Getting</font> <font color="#dccf8f">(</font><font color="#b58900">First</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Maybe</font> <font color="#dccf8f">a</font>

  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">firstOf</font> <font color="#b64926">::</font> <font color="#b58900">Fold</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Maybe</font> <font color="#dccf8f">b</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">^?</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Fold</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Maybe</font> <font color="#dccf8f">b</font>

  <font color="#dccf8f">view</font> <font color="#b64926">::</font> <font color="#b58900">Control</font><font color="#dccf8f">.</font><font color="#b58900">Monad</font><font color="#dccf8f">.</font><font color="#b58900">Reader</font><font color="#dccf8f">.</font><font color="#b58900">Class</font><font color="#dccf8f">.</font><font color="#b58900">MonadReader</font> <font color="#dccf8f">s</font> <font color="#dccf8f">m</font> <font color="#b64926">=&gt;</font>
          <font color="#b58900">Getting</font> <font color="#dccf8f">a</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">m</font> <font color="#dccf8f">a</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">^.</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">^.</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Getting</font> <font color="#dccf8f">a</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font>

  <font color="#dccf8f">--idealized</font>
  <font color="#dccf8f">view</font> <font color="#b64926">::</font> <font color="#b58900">Monoid</font> <font color="#dccf8f">b</font> <font color="#b64926">=&gt;</font> <font color="#b58900">Fold</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">^.</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">Monoid</font> <font color="#dccf8f">b</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Fold</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font>
</pre></section><section><pre>  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">firstOf</font> <font color="#dccf8f">(</font><font color="#dccf8f">replicated</font> <font color="#586e75">3</font><font color="#dccf8f">)</font> <font color="#586e75">1</font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">1</font> <font color="#dccf8f">^?</font> <font color="#dccf8f">replicated</font> <font color="#586e75">3</font>
  <font color="#b58900">Just</font> <font color="#586e75">1</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">firstOf</font> <font color="#dccf8f">(</font><font color="#dccf8f">replicated</font> <font color="#586e75">0</font><font color="#dccf8f">)</font> <font color="#586e75">1</font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">1</font> <font color="#dccf8f">^?</font> <font color="#dccf8f">replicated</font> <font color="#586e75">0</font>
  <font color="#b58900">Nothing</font>
</pre></section><section><pre>  <font color="#586e75"><i>-- the b in Fold a b must be a monoid!</i></font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">view</font> <font color="#dccf8f">worded</font> <font color="#586e75">"asdf fdsa"</font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">"asdf fdsa"</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">worded</font>
  <font color="#586e75">"asdffdsa"</font>

  <font color="#586e75"><i>-- Nums are not monoids (they cannot be concattenated)</i></font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">view</font> <font color="#dccf8f">(</font><font color="#dccf8f">replicated</font> <font color="#586e75">2</font><font color="#dccf8f">)</font> <font color="#586e75">1</font>
  <font color="#b58900">No</font> <font color="#b64926">instance</font> <font color="#dccf8f">for</font> <font color="#dccf8f">(</font><font color="#b58900">Num</font> <font color="#dccf8f">a0</font><font color="#dccf8f">)</font> <font color="#dccf8f">arising</font> <font color="#dccf8f">from</font> <font color="#dccf8f">a</font> <font color="#dccf8f">use</font> <font color="#b64926">of</font> <font color="#dccf8f">...</font>

  <font color="#586e75"><i>-- Num a =&gt; Sum a is monoidal, it just adds successive numbers</i></font>
  <font color="#b64926">import</font> <font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Monoid</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">view</font> <font color="#dccf8f">(</font><font color="#dccf8f">replicated</font> <font color="#586e75">2</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#b58900">Sum</font> <font color="#586e75">1</font><font color="#dccf8f">)</font>
  <font color="#dccf8f">&gt;</font> <font color="#b58900">Sum</font> <font color="#586e75">1</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">replicated</font> <font color="#586e75">2</font>
  <font color="#b58900">Sum</font> <font color="#dccf8f">{</font> <font color="#dccf8f">getSum</font> <font color="#b64926">=</font> <font color="#586e75">2</font> <font color="#dccf8f">}</font>
</pre></section></section><section><section><img style="width: 50%; height: 100%" src="https://imgur.com/ALlbPRa.png"></section></section><section><section><h5>Getter</h5><pre>  <font color="#b64926">type</font> <font color="#b58900">Getter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">=</font>
    <font color="#dccf8f">(</font><font color="#b58900">Contravariant</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Functor</font> <font color="#dccf8f">f</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
      <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">s</font>
 </pre></section><section><span>a getter Getter a b is roughly the same as a function (a -&gt; b)</span></section><section><pre>  <font color="#dccf8f">view</font> <font color="#b64926">::</font> <font color="#b58900">Control</font><font color="#dccf8f">.</font><font color="#b58900">Monad</font><font color="#dccf8f">.</font><font color="#b58900">Reader</font><font color="#dccf8f">.</font><font color="#b58900">Class</font><font color="#dccf8f">.</font><font color="#b58900">MonadReader</font> <font color="#dccf8f">s</font> <font color="#dccf8f">m</font> <font color="#b64926">=&gt;</font>
             <font color="#b58900">Getting</font> <font color="#dccf8f">a</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">m</font> <font color="#dccf8f">a</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">^.</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Getting</font> <font color="#dccf8f">a</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font>

  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">view</font> <font color="#b64926">::</font> <font color="#b58900">Getter</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">^.</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Getter</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font>
 </pre></section><section><span>but weren&#39;t those functions Folds?</span><pre>  <font color="#dccf8f">view</font> <font color="#b64926">::</font> <font color="#b58900">Getter</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">^.</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Getter</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font>

  <font color="#dccf8f">view</font> <font color="#b64926">::</font> <font color="#b58900">Monoid</font> <font color="#dccf8f">b</font> <font color="#b64926">=&gt;</font> <font color="#b58900">Fold</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">^.</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">Monoid</font> <font color="#dccf8f">b</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Fold</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font>
</pre></section><section><span>since a Getter is like a function, you can make one from one</span><pre>  <font color="#dccf8f">to</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Profunctor</font> <font color="#dccf8f">p</font><font color="#dccf8f">,</font> <font color="#b58900">Contravariant</font> <font color="#dccf8f">f</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
              <font color="#dccf8f">(</font><font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Optic'</font> <font color="#dccf8f">p</font> <font color="#dccf8f">f</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font>
  <font color="#dccf8f">to</font> <font color="#dccf8f">show</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Show</font> <font color="#dccf8f">a</font><font color="#dccf8f">,</font> <font color="#b58900">Profunctor</font> <font color="#dccf8f">p</font><font color="#dccf8f">,</font> <font color="#b58900">Contravariant</font> <font color="#dccf8f">f</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
              <font color="#b58900">Optic'</font> <font color="#dccf8f">p</font> <font color="#dccf8f">f</font> <font color="#dccf8f">a</font> <font color="#b58900">String</font>

  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">to</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Getter</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font>

  <font color="#dccf8f">show</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Show</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">1</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Num</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font>

  <font color="#dccf8f">to</font> <font color="#dccf8f">show</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Show</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font> <font color="#b58900">Getter</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font>
  <font color="#dccf8f">to</font> <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">1</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Num</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font> <font color="#b58900">Getter</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font>
</pre></section><section><pre>  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">view</font> <font color="#dccf8f">(</font><font color="#dccf8f">to</font> <font color="#dccf8f">show</font><font color="#dccf8f">)</font> <font color="#586e75">1</font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">1</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">to</font> <font color="#dccf8f">show</font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">"1"</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">view</font> <font color="#dccf8f">(</font><font color="#dccf8f">to</font> <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">1</font><font color="#dccf8f">)</font><font color="#dccf8f">)</font> <font color="#586e75">2</font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">2</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">to</font> <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">1</font><font color="#dccf8f">)</font>
  <font color="#586e75">3</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">view</font> <font color="#dccf8f">(</font><font color="#dccf8f">to</font> <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">1</font><font color="#dccf8f">)</font> <font color="#dccf8f">.</font> <font color="#dccf8f">to</font> <font color="#dccf8f">show</font><font color="#dccf8f">)</font> <font color="#586e75">1</font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">1</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">to</font> <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">1</font><font color="#dccf8f">)</font> <font color="#dccf8f">.</font> <font color="#dccf8f">to</font> <font color="#dccf8f">show</font>
  <font color="#586e75">"2"</font>
</pre></section><section><span>mind bender: all getters are valid folds</span></section><section><pre>  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">sumOf</font> <font color="#dccf8f">(</font><font color="#dccf8f">to</font> <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">1</font><font color="#dccf8f">)</font><font color="#dccf8f">)</font> <font color="#586e75">1</font>
  <font color="#586e75">2</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">toListOf</font> <font color="#dccf8f">(</font><font color="#dccf8f">to</font> <font color="#dccf8f">show</font><font color="#dccf8f">)</font> <font color="#586e75">1</font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">1</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">to</font> <font color="#dccf8f">show</font>
  <font color="#586e75">"1"</font>

  <font color="#586e75"><i>-- folds and getters can be mixed, become folds (idealized)</i></font>
  <font color="#dccf8f">to</font> <font color="#dccf8f">show</font> <font color="#dccf8f">.</font> <font color="#dccf8f">replicated</font> <font color="#586e75">2</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Show</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font> <font color="#b58900">Fold</font> <font color="#dccf8f">a</font> <font color="#b58900">String</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">toListOf</font> <font color="#dccf8f">(</font><font color="#dccf8f">to</font> <font color="#dccf8f">show</font> <font color="#dccf8f">.</font> <font color="#dccf8f">replicated</font> <font color="#586e75">2</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">)</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">(</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">)</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">to</font> <font color="#dccf8f">show</font> <font color="#dccf8f">.</font> <font color="#dccf8f">replicated</font> <font color="#586e75">2</font>
  <font color="#b64926">[</font><font color="#586e75">"(1,2)"</font><font color="#dccf8f">,</font><font color="#586e75">"(1,2)"</font><font color="#b64926">]</font>
</pre></section></section><section><section><img style="width: 50%; height: 100%" src="https://imgur.com/ALlbPRa.png"></section></section><section><section><h5>Setter</h5><pre>  <font color="#b64926">type</font> <font color="#b58900">Setter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">=</font>
    <font color="#b58900">Settable</font> <font color="#dccf8f">f</font> <font color="#b64926">=&gt;</font>
      <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">t</font>

  <font color="#b64926">type</font> <font color="#b58900">Setter'</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">=</font> <font color="#b58900">Simple</font> <font color="#b58900">Setter</font> <font color="#b64926">=</font> <font color="#b58900">Setter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font>
 </pre></section><section><pre>  <font color="#dccf8f">set</font> <font color="#b64926">::</font> <font color="#b58900">ASetter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">.~</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">ASetter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font>

  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">set</font> <font color="#b64926">::</font> <font color="#b58900">Setter'</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">.~</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">Setter'</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font>

  <font color="#dccf8f">over</font> <font color="#b64926">::</font> <font color="#b58900">ASetter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font> 
  <font color="#dccf8f">(</font><font color="#dccf8f">%~</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">ASetter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font>

  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">over</font> <font color="#b64926">::</font> <font color="#b58900">Setter'</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">%~</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">Setter'</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font>

  <font color="#586e75"><i>-- utility function</i></font>
  <font color="#dccf8f">(</font><font color="#dccf8f">&amp;</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font> <font color="#586e75"><i>-- ($) flipped</i></font>
</pre></section><section><pre>  <font color="#dccf8f">&gt;</font> <font color="#586e75">1</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">print</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">print</font> <font color="#dccf8f">$</font> <font color="#586e75">1</font>
  <font color="#586e75">"1"</font>

  <font color="#dccf8f">&gt;</font><font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">map</font> <font color="#dccf8f">show</font>
  <font color="#dccf8f">&gt;</font><font color="#dccf8f">map</font> <font color="#dccf8f">show</font> <font color="#dccf8f">$</font> <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font>
  <font color="#b64926">[</font><font color="#586e75">"1"</font><font color="#dccf8f">,</font><font color="#586e75">"2"</font><font color="#dccf8f">,</font><font color="#586e75">"3"</font><font color="#b64926">]</font>
</pre></section><section><pre>  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">set</font> <font color="#dccf8f">id</font> <font color="#586e75">2</font> <font color="#586e75">1</font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">2</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">id</font> <font color="#dccf8f">.~</font> <font color="#586e75">1</font>
  <font color="#586e75">1</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">set</font> <font color="#dccf8f">id</font> <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font> <font color="#586e75">1</font>
  <font color="#dccf8f">&gt;</font> <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">id</font> <font color="#dccf8f">.~</font> <font color="#586e75">1</font>
  <font color="#586e75">1</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">id</font> <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">1</font><font color="#dccf8f">)</font> <font color="#586e75">1</font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">1</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">id</font> <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">1</font><font color="#dccf8f">)</font>
  <font color="#586e75">2</font>

  <font color="#dccf8f">&gt;</font> <font color="#586e75">1</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">id</font> <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">1</font><font color="#dccf8f">)</font> <font color="#dccf8f">.</font> <font color="#dccf8f">over</font> <font color="#dccf8f">id</font> <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">2</font><font color="#dccf8f">)</font>
  <font color="#586e75">4</font>
</pre></section><section><pre>  <font color="#dccf8f">sets</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Setter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font>
  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">sets</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Setter'</font> <font color="#dccf8f">b</font> <font color="#dccf8f">a</font>

  <font color="#b64926">let</font>
    <font color="#dccf8f">mysetfunc</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font><font color="#dccf8f">,</font><font color="#dccf8f">b</font><font color="#dccf8f">,</font><font color="#dccf8f">c</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font><font color="#dccf8f">,</font><font color="#dccf8f">b</font><font color="#dccf8f">,</font><font color="#dccf8f">c</font><font color="#dccf8f">)</font>
    <font color="#dccf8f">mysetfunc</font> <font color="#dccf8f">f</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font><font color="#dccf8f">,</font><font color="#dccf8f">b</font><font color="#dccf8f">,</font><font color="#dccf8f">c</font><font color="#dccf8f">)</font> <font color="#b64926">=</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font><font color="#dccf8f">,</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">,</font> <font color="#dccf8f">c</font><font color="#dccf8f">)</font>

    <font color="#dccf8f">mysetter</font> <font color="#b64926">::</font> <font color="#b58900">Setter'</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font><font color="#dccf8f">,</font><font color="#dccf8f">b</font><font color="#dccf8f">,</font><font color="#dccf8f">c</font><font color="#dccf8f">)</font> <font color="#dccf8f">b</font>
    <font color="#dccf8f">mysetter</font> <font color="#b64926">=</font> <font color="#dccf8f">sets</font> <font color="#dccf8f">mysetfunc</font>
</pre></section><section><pre>  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">set</font> <font color="#dccf8f">mysetter</font> <font color="#586e75">4</font> <font color="#dccf8f">(</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#dccf8f">)</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">(</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#dccf8f">)</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">mysetter</font> <font color="#dccf8f">.~</font> <font color="#586e75">4</font>
  <font color="#dccf8f">(</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">4</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#dccf8f">)</font>
 
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">mysetter</font> <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">21</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#dccf8f">)</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">(</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#dccf8f">)</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">mysetter</font> <font color="#dccf8f">%~</font> <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">21</font><font color="#dccf8f">)</font>
  <font color="#dccf8f">(</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">23</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#dccf8f">)</font>
</pre></section><section><pre>  <font color="#dccf8f">mapped</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Functor</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Settable</font> <font color="#dccf8f">f1</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
    <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f1</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f1</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font>

  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">mapped</font> <font color="#b64926">::</font> <font color="#b58900">Functor</font> <font color="#dccf8f">f</font> <font color="#b64926">=&gt;</font> <font color="#b58900">Setter'</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#dccf8f">a</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">mapped</font> <font color="#dccf8f">show</font> <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font>
  <font color="#b64926">[</font><font color="#586e75">"1"</font><font color="#dccf8f">,</font><font color="#586e75">"2"</font><font color="#dccf8f">,</font><font color="#586e75">"3"</font><font color="#b64926">]</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">(</font><font color="#dccf8f">mapped</font> <font color="#dccf8f">.</font> <font color="#dccf8f">mapped</font><font color="#dccf8f">)</font> <font color="#dccf8f">show</font> <font color="#b64926">[</font><font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#b64926">]</font><font color="#dccf8f">,</font><font color="#b64926">[</font><font color="#586e75">3</font><font color="#dccf8f">,</font><font color="#586e75">4</font><font color="#b64926">]</font><font color="#b64926">]</font>
  <font color="#b64926">[</font><font color="#b64926">[</font><font color="#586e75">"1"</font><font color="#dccf8f">,</font><font color="#586e75">"2"</font><font color="#b64926">]</font><font color="#dccf8f">,</font><font color="#b64926">[</font><font color="#586e75">"3"</font><font color="#dccf8f">,</font><font color="#586e75">"4"</font><font color="#b64926">]</font><font color="#b64926">]</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">(</font><font color="#dccf8f">mapped</font> <font color="#dccf8f">.</font> <font color="#dccf8f">mapped</font> <font color="#dccf8f">.</font> <font color="#dccf8f">mapped</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">1</font><font color="#dccf8f">)</font>
          <font color="#b64926">[</font><font color="#b64926">[</font><font color="#b58900">Just</font> <font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#b58900">Just</font> <font color="#586e75">2</font><font color="#b64926">]</font><font color="#dccf8f">,</font><font color="#b64926">[</font><font color="#b58900">Nothing</font><font color="#dccf8f">,</font><font color="#b58900">Just</font> <font color="#586e75">4</font><font color="#b64926">]</font><font color="#b64926">]</font>
  <font color="#b64926">[</font><font color="#b64926">[</font><font color="#b58900">Just</font> <font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#b58900">Just</font> <font color="#586e75">3</font><font color="#b64926">]</font><font color="#dccf8f">,</font><font color="#b64926">[</font><font color="#b58900">Nothing</font><font color="#dccf8f">,</font><font color="#b58900">Just</font> <font color="#586e75">5</font><font color="#b64926">]</font><font color="#b64926">]</font>
</pre></section><section><span>there are specialized convenience setter operations</span><pre>  <font color="#586e75"><i>-- +, -, *, /</i></font>
  <font color="#dccf8f">(</font><font color="#dccf8f">+~</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">Num</font> <font color="#dccf8f">a</font> <font color="#b64926">=&gt;</font> <font color="#b58900">ASetter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">-~</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">Num</font> <font color="#dccf8f">a</font> <font color="#b64926">=&gt;</font> <font color="#b58900">ASetter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">*~</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">Num</font> <font color="#dccf8f">a</font> <font color="#b64926">=&gt;</font> <font color="#b58900">ASetter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">//~</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">Fractional</font> <font color="#dccf8f">a</font> <font color="#b64926">=&gt;</font> <font color="#b58900">ASetter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font>
  <font color="#586e75"><i>-- raise to a power</i></font>
  <font color="#dccf8f">(</font><font color="#dccf8f">^~</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Num</font> <font color="#dccf8f">a</font><font color="#dccf8f">,</font> <font color="#b58900">Integral</font> <font color="#dccf8f">e</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font> <font color="#b58900">ASetter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">e</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font> 
  <font color="#586e75"><i>-- logical or, logical and</i></font>
  <font color="#dccf8f">(</font><font color="#dccf8f">||~</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">ASetter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#b58900">Bool</font> <font color="#b58900">Bool</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Bool</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">&amp;&amp;~</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">ASetter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#b58900">Bool</font> <font color="#b58900">Bool</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Bool</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font>
  <font color="#586e75"><i>-- monoidal appending</i></font>
  <font color="#dccf8f">(</font><font color="#dccf8f">&lt;&gt;~</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">Monoid</font> <font color="#dccf8f">a</font> <font color="#b64926">=&gt;</font> <font color="#b58900">ASetter</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font>
</pre></section><section><pre>  <font color="#586e75"><i>-- addition</i></font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">2</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">id</font> <font color="#dccf8f">+~</font> <font color="#586e75">2</font>
  <font color="#586e75">4</font>

  <font color="#586e75"><i>-- boolean logic</i></font>
  <font color="#dccf8f">&gt;</font> <font color="#b58900">True</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">id</font> <font color="#dccf8f">&amp;&amp;~</font> <font color="#b58900">False</font>
  <font color="#b58900">False</font>

  <font color="#586e75"><i>-- monoidal concattenation</i></font>
  <font color="#dccf8f">&gt;</font> <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">id</font> <font color="#dccf8f">&lt;&gt;~</font> <font color="#b64926">[</font><font color="#586e75">4</font><font color="#dccf8f">,</font><font color="#586e75">5</font><font color="#dccf8f">,</font><font color="#586e75">6</font><font color="#b64926">]</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">id</font> <font color="#dccf8f">&lt;&gt;~</font> <font color="#b64926">[</font><font color="#586e75">7</font><font color="#dccf8f">,</font><font color="#586e75">8</font><font color="#b64926">]</font>
  <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#dccf8f">,</font><font color="#586e75">4</font><font color="#dccf8f">,</font><font color="#586e75">5</font><font color="#dccf8f">,</font><font color="#586e75">6</font><font color="#dccf8f">,</font><font color="#586e75">7</font><font color="#dccf8f">,</font><font color="#586e75">8</font><font color="#b64926">]</font>
</pre></section></section><section><section><img style="width: 50%; height: 100%" src="https://imgur.com/ALlbPRa.png"></section></section><section><section><h5>Traversal</h5><pre>  <font color="#b64926">type</font> <font color="#b58900">Traversal</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">=</font>
    <font color="#b58900">Applicative</font> <font color="#dccf8f">f</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">t</font>

  <font color="#b64926">type</font> <font color="#b58900">Traversal'</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">=</font> <font color="#b58900">Simple</font> <font color="#b58900">Traversal</font> <font color="#b64926">=</font> <font color="#b58900">Traversal</font> <font color="#dccf8f">s</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font>
</pre></section><section><pre>  <font color="#dccf8f">traverse</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Applicative</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Traversable</font> <font color="#dccf8f">t</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
    <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">(</font><font color="#dccf8f">t</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font>

  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">traverse</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Traversable</font> <font color="#dccf8f">t</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font> <font color="#b58900">Traversal'</font> <font color="#dccf8f">(</font><font color="#dccf8f">t</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#dccf8f">t</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font>

  <font color="#b64926">instance</font> <font color="#b58900">Traversable</font> <font color="#b58900">[]</font>
  <font color="#b64926">instance</font> <font color="#b58900">Traversable</font> <font color="#b58900">Maybe</font>
  <font color="#b64926">instance</font> <font color="#b58900">Traversable</font> <font color="#dccf8f">(</font><font color="#b58900">Either</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font>
  <font color="#b64926">instance</font> <font color="#b58900">Traversable</font> <font color="#b58900">Tree</font>
  <font color="#586e75"><i>-- others</i></font>
</pre></section><section><pre>  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">toListOf</font> <font color="#dccf8f">traverse</font> <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font>
  <font color="#dccf8f">&gt;</font> <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">traverse</font>
  <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">sumOf</font> <font color="#dccf8f">traverse</font> <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font>
  <font color="#586e75">6</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">(</font><font color="#dccf8f">traverse</font> <font color="#dccf8f">.</font> <font color="#dccf8f">traverse</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">1</font><font color="#dccf8f">)</font> <font color="#b64926">[</font><font color="#b58900">Left</font> <font color="#586e75">'a'</font><font color="#dccf8f">,</font><font color="#b58900">Right</font> <font color="#586e75">2</font><font color="#b64926">]</font>
  <font color="#dccf8f">&gt;</font> <font color="#b64926">[</font><font color="#b58900">Left</font> <font color="#586e75">'a'</font><font color="#dccf8f">,</font> <font color="#b58900">Right</font> <font color="#586e75">2</font><font color="#b64926">]</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">(</font><font color="#dccf8f">traverse</font> <font color="#dccf8f">.</font> <font color="#dccf8f">traverse</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#dccf8f">+</font><font color="#586e75">1</font><font color="#dccf8f">)</font>
  <font color="#dccf8f">&gt;</font> <font color="#b64926">[</font><font color="#b58900">Left</font> <font color="#586e75">'a'</font><font color="#dccf8f">,</font> <font color="#b58900">Right</font> <font color="#586e75">3</font><font color="#b64926">]</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">(</font><font color="#dccf8f">traverse</font> <font color="#dccf8f">.</font> <font color="#dccf8f">traverse</font> <font color="#dccf8f">.</font> <font color="#dccf8f">traverse</font><font color="#dccf8f">)</font>
         <font color="#dccf8f">negate</font> <font color="#dccf8f">(</font><font color="#b58900">Just</font> <font color="#b64926">[</font><font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#b64926">]</font><font color="#dccf8f">,</font><font color="#b64926">[</font><font color="#586e75">3</font><font color="#dccf8f">,</font><font color="#586e75">4</font><font color="#b64926">]</font><font color="#b64926">]</font><font color="#dccf8f">)</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">(</font><font color="#b58900">Just</font> <font color="#b64926">[</font><font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#b64926">]</font><font color="#dccf8f">,</font><font color="#b64926">[</font><font color="#586e75">3</font><font color="#dccf8f">,</font><font color="#586e75">4</font><font color="#b64926">]</font><font color="#b64926">]</font><font color="#dccf8f">)</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">over</font>
          <font color="#dccf8f">(</font><font color="#dccf8f">traverse</font> <font color="#dccf8f">.</font> <font color="#dccf8f">traverse</font> <font color="#dccf8f">.</font> <font color="#dccf8f">traverse</font><font color="#dccf8f">)</font> <font color="#dccf8f">negate</font>
  <font color="#b58900">Just</font> <font color="#dccf8f">(</font><font color="#b64926">[</font><font color="#586e75"><i>-</i></font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75"><i>-</i></font><font color="#586e75">2</font><font color="#b64926">]</font><font color="#dccf8f">,</font><font color="#b64926">[</font><font color="#586e75"><i>-</i></font><font color="#586e75">3</font><font color="#dccf8f">,</font><font color="#586e75"><i>-</i></font><font color="#586e75">4</font><font color="#b64926">]</font><font color="#dccf8f">)</font>
</pre></section><section><pre>  <font color="#b64926">class</font> <font color="#b58900">Each</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">|</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font><font color="#dccf8f">,</font> <font color="#dccf8f">t</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font><font color="#dccf8f">,</font> <font color="#dccf8f">s</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font><font color="#dccf8f">,</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">where</font>
    <font color="#dccf8f">each</font> <font color="#b64926">::</font> <font color="#b58900">Traversal</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font>

  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">each</font> <font color="#b64926">::</font> <font color="#b58900">Each</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#dccf8f">b</font> <font color="#b64926">=&gt;</font> <font color="#b58900">Traversal'</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font>

  <font color="#b64926">instance</font> <font color="#b58900">Each</font> <font color="#b64926">[</font><font color="#dccf8f">a</font><font color="#b64926">]</font> <font color="#b64926">[</font><font color="#dccf8f">b</font><font color="#b64926">]</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font>
  <font color="#b64926">instance</font> <font color="#b58900">Each</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font><font color="#dccf8f">,</font><font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#dccf8f">c</font><font color="#dccf8f">,</font><font color="#dccf8f">d</font><font color="#dccf8f">)</font> <font color="#dccf8f">a</font> <font color="#dccf8f">c</font>
  <font color="#b64926">instance</font> <font color="#b58900">Each</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font><font color="#dccf8f">,</font><font color="#dccf8f">b</font><font color="#dccf8f">,</font><font color="#dccf8f">c</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#dccf8f">d</font><font color="#dccf8f">,</font><font color="#dccf8f">e</font><font color="#dccf8f">,</font><font color="#dccf8f">f</font><font color="#dccf8f">)</font> <font color="#dccf8f">a</font> <font color="#dccf8f">d</font>
  <font color="#b64926">instance</font> <font color="#b58900">Each</font> <font color="#dccf8f">(</font><font color="#b58900">Maybe</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#b58900">Maybe</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font>
  <font color="#dccf8f">...</font>
</pre></section><section><pre>  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">toListOf</font> <font color="#dccf8f">each</font> <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font>
  <font color="#dccf8f">&gt;</font> <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">each</font>
  <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">toListOf</font> <font color="#dccf8f">each</font> <font color="#dccf8f">(</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#dccf8f">,</font><font color="#586e75">4</font><font color="#dccf8f">)</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">(</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#dccf8f">,</font><font color="#586e75">4</font><font color="#dccf8f">)</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">each</font>
  <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#dccf8f">,</font><font color="#586e75">4</font><font color="#b64926">]</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">sumOf</font> <font color="#dccf8f">each</font> <font color="#dccf8f">(</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#dccf8f">)</font>
  <font color="#586e75">6</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">nullOf</font> <font color="#dccf8f">each</font> <font color="#b58900">[]</font>
  <font color="#b58900">True</font>
</pre></section><section><pre>  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">set</font> <font color="#dccf8f">each</font> <font color="#586e75">4</font> <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font>
  <font color="#dccf8f">&gt;</font> <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">set</font> <font color="#dccf8f">each</font> <font color="#586e75">4</font>
  <font color="#b64926">[</font><font color="#586e75">4</font><font color="#dccf8f">,</font><font color="#586e75">4</font><font color="#dccf8f">,</font><font color="#586e75">4</font><font color="#b64926">]</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">(</font><font color="#dccf8f">each</font> <font color="#dccf8f">.</font> <font color="#dccf8f">each</font> <font color="#dccf8f">.</font> <font color="#dccf8f">each</font><font color="#dccf8f">)</font> <font color="#dccf8f">negate</font> <font color="#dccf8f">(</font><font color="#b58900">Just</font> <font color="#dccf8f">(</font><font color="#b64926">[</font><font color="#586e75">1</font><font color="#b64926">]</font><font color="#dccf8f">,</font><font color="#b64926">[</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font><font color="#dccf8f">)</font><font color="#dccf8f">)</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">(</font><font color="#b58900">Just</font> <font color="#dccf8f">(</font><font color="#b64926">[</font><font color="#586e75">1</font><font color="#b64926">]</font><font color="#dccf8f">,</font><font color="#b64926">[</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font><font color="#dccf8f">)</font><font color="#dccf8f">)</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">(</font><font color="#dccf8f">each</font> <font color="#dccf8f">.</font> <font color="#dccf8f">each</font> <font color="#dccf8f">.</font> <font color="#dccf8f">each</font><font color="#dccf8f">)</font> <font color="#dccf8f">negate</font>
  <font color="#b58900">Just</font> <font color="#dccf8f">(</font><font color="#b64926">[</font><font color="#586e75"><i>-</i></font><font color="#586e75">1</font><font color="#b64926">]</font><font color="#dccf8f">,</font><font color="#b64926">[</font><font color="#586e75"><i>-</i></font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75"><i>-</i></font><font color="#586e75">3</font><font color="#b64926">]</font><font color="#dccf8f">)</font>

  <font color="#586e75"><i>-- warning, each and traverse are not always interchangeable</i></font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">(</font><font color="#dccf8f">each</font> <font color="#dccf8f">.</font> <font color="#dccf8f">traverse</font> <font color="#dccf8f">.</font> <font color="#dccf8f">each</font><font color="#dccf8f">)</font> <font color="#dccf8f">negate</font> <font color="#dccf8f">(</font><font color="#b58900">Just</font> <font color="#dccf8f">(</font><font color="#b64926">[</font><font color="#586e75">1</font><font color="#b64926">]</font><font color="#dccf8f">,</font><font color="#b64926">[</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font><font color="#dccf8f">)</font><font color="#dccf8f">)</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">(</font><font color="#b58900">Just</font> <font color="#dccf8f">(</font><font color="#b64926">[</font><font color="#586e75">1</font><font color="#b64926">]</font><font color="#dccf8f">,</font><font color="#b64926">[</font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75">3</font><font color="#b64926">]</font><font color="#dccf8f">)</font><font color="#dccf8f">)</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">(</font><font color="#dccf8f">each</font> <font color="#dccf8f">.</font> <font color="#dccf8f">traverse</font> <font color="#dccf8f">.</font> <font color="#dccf8f">each</font><font color="#dccf8f">)</font> <font color="#dccf8f">negate</font>
  <font color="#b58900">Just</font> <font color="#dccf8f">(</font><font color="#b64926">[</font><font color="#586e75">1</font><font color="#b64926">]</font><font color="#dccf8f">,</font><font color="#b64926">[</font><font color="#586e75"><i>-</i></font><font color="#586e75">2</font><font color="#dccf8f">,</font><font color="#586e75"><i>-</i></font><font color="#586e75">3</font><font color="#b64926">]</font><font color="#dccf8f">)</font>
</pre></section><section><pre>  <font color="#586e75"><i>-- looked at differently</i></font>
  <font color="#dccf8f">each</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Each</font> <font color="#dccf8f">a</font><font color="#dccf8f">...</font><font color="#dccf8f">,</font> <font color="#b58900">Applicative</font> <font color="#dccf8f">f</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">a</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">each</font> <font color="#dccf8f">print</font> <font color="#b64926">[</font><font color="#586e75">1</font><font color="#dccf8f">,</font><font color="#586e75">2</font><font color="#b64926">]</font> <font color="#b64926">::</font> <font color="#b58900">IO</font> <font color="#b64926">[</font><font color="#b58900">()</font><font color="#b64926">]</font>
  <font color="#586e75">1</font>
  <font color="#586e75">2</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">each</font> <font color="#dccf8f">print</font> <font color="#dccf8f">(</font><font color="#586e75">'a'</font><font color="#dccf8f">,</font><font color="#586e75">'b'</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">IO</font> <font color="#b64926">[</font><font color="#b58900">()</font><font color="#b64926">]</font>
  <font color="#586e75">'a'</font>
  <font color="#586e75">'b'</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">each</font> <font color="#dccf8f">.</font> <font color="#dccf8f">each</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#dccf8f">putStrLn</font> <font color="#dccf8f">.</font> <font color="#dccf8f">show</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#b58900">Just</font> <font color="#b64926">[</font><font color="#586e75">2</font><font color="#b64926">]</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">IO</font> <font color="#dccf8f">(</font><font color="#b58900">Maybe</font> <font color="#b64926">[</font><font color="#b58900">()</font><font color="#b64926">]</font><font color="#dccf8f">)</font>
  <font color="#586e75">2</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">each</font> <font color="#dccf8f">(</font><font color="#dccf8f">putStrLn</font> <font color="#dccf8f">.</font> <font color="#dccf8f">show</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#b58900">Nothing</font> <font color="#b64926">::</font> <font color="#b58900">Maybe</font> <font color="#b58900">Int</font><font color="#dccf8f">)</font> <font color="#b64926">::</font> <font color="#b58900">IO</font> <font color="#dccf8f">(</font><font color="#b58900">Maybe</font> <font color="#b58900">()</font><font color="#dccf8f">)</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">prints</font> <font color="#dccf8f">nothing</font><font color="#dccf8f">)</font>
</pre></section><section><span>a Traversal can be made from anything that is already Traversable</span><pre>  <font color="#b64926">class</font> <font color="#dccf8f">(</font><font color="#b58900">Functor</font> <font color="#dccf8f">t</font><font color="#dccf8f">,</font> <font color="#b58900">Foldable</font> <font color="#dccf8f">t</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font> <font color="#b58900">Traversable</font> <font color="#dccf8f">t</font> <font color="#b64926">where</font>
    <font color="#dccf8f">traverse</font> <font color="#b64926">::</font> <font color="#b58900">Applicative</font> <font color="#dccf8f">f</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">(</font><font color="#dccf8f">t</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font>
    <font color="#dccf8f">sequenceA</font> <font color="#b64926">::</font> <font color="#b58900">Applicative</font> <font color="#dccf8f">f</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">(</font><font color="#dccf8f">t</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font>
    <font color="#dccf8f">mapM</font> <font color="#b64926">::</font> <font color="#b58900">Monad</font> <font color="#dccf8f">m</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">m</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">m</font> <font color="#dccf8f">(</font><font color="#dccf8f">t</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font>
    <font color="#dccf8f">sequence</font> <font color="#b64926">::</font> <font color="#b58900">Monad</font> <font color="#dccf8f">m</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">(</font><font color="#dccf8f">m</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">m</font> <font color="#dccf8f">(</font><font color="#dccf8f">t</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> 

  <font color="#b64926">instance</font> <font color="#b58900">Traversable</font> <font color="#b58900">[]</font>
  <font color="#b64926">instance</font> <font color="#b58900">Traversable</font> <font color="#b58900">Maybe</font>
  <font color="#b64926">instance</font> <font color="#b58900">Traversable</font> <font color="#dccf8f">(</font><font color="#b58900">Either</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font>
  <font color="#586e75"><i>-- amongst many others</i></font>

  <font color="#586e75"><i>-- note that traverse from Traversable is already a usable lens</i></font>
  <font color="#dccf8f">traverse</font> <font color="#b64926">::</font> <font color="#b58900">Applicative</font> <font color="#dccf8f">f</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">(</font><font color="#dccf8f">t</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font>
  <font color="#dccf8f">traverse</font> <font color="#b64926">::</font> <font color="#b58900">Traversal'</font> <font color="#dccf8f">(</font><font color="#dccf8f">t</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#dccf8f">(</font><font color="#dccf8f">t</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font>
 </pre></section><section><span>a Traversal can work on monomorphic types</span></section><section><span>a Traversal can work on monomorphic types</span><pre>  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Text</font><font color="#dccf8f">.</font><font color="#b58900">Lens</font><font color="#dccf8f">.</font><font color="#dccf8f">text</font> <font color="#b64926">::</font> <font color="#b58900">IsText</font> <font color="#dccf8f">t</font> <font color="#b64926">=&gt;</font> <font color="#b58900">Traversal'</font> <font color="#dccf8f">t</font> <font color="#b58900">Char</font>
  <font color="#b64926">instance</font> <font color="#b58900">IsText</font> <font color="#b64926">[</font><font color="#b58900">Char</font><font color="#b64926">]</font> <font color="#586e75"><i>-- aka String</i></font>
  <font color="#b64926">instance</font> <font color="#b58900">IsText</font> <font color="#b58900">Text</font>
  <font color="#b64926">instance</font> <font color="#b58900">IsText</font> <font color="#b58900">ByteString</font>
  
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">(</font><font color="#586e75">"abc"</font> <font color="#b64926">::</font> <font color="#b64926">[</font><font color="#b58900">Char</font><font color="#b64926">]</font><font color="#dccf8f">)</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">text</font> <font color="#dccf8f">succ</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">(</font><font color="#586e75">"abc"</font> <font color="#b64926">::</font> <font color="#b58900">Text</font><font color="#dccf8f">)</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">text</font> <font color="#dccf8f">succ</font>
  <font color="#586e75">"bcd"</font>
</pre></section><section><span>a Traversal is Applicative (and thus Monadic)</span></section><section><span>a Traversal is Applicative (and thus Monadic)</span><pre>  <font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Text</font><font color="#dccf8f">.</font><font color="#b58900">Lens</font><font color="#dccf8f">.</font><font color="#dccf8f">text</font> <font color="#b64926">::</font> <font color="#b58900">IsText</font> <font color="#dccf8f">t</font> <font color="#b64926">=&gt;</font> <font color="#b58900">Traversal'</font> <font color="#dccf8f">t</font> <font color="#b58900">Char</font>
  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Text</font><font color="#dccf8f">.</font><font color="#b58900">Lens</font><font color="#dccf8f">.</font><font color="#dccf8f">text</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Applicative</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">IsText</font> <font color="#dccf8f">t</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
     <font color="#dccf8f">(</font><font color="#b58900">Char</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#b58900">Char</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">t</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">text</font> <font color="#dccf8f">print</font> <font color="#586e75">"12"</font> <font color="#586e75"><i>-- try to print each character</i></font>
  <font color="#b58900">Couldn't</font> <font color="#dccf8f">match</font> <font color="#b64926">type</font> <font color="#586e75">'</font><font color="#b58900">()</font><font color="#586e75">'</font> <font color="#dccf8f">with</font> <font color="#586e75">'</font><font color="#b58900">Char'</font>

  <font color="#dccf8f">print</font> <font color="#b64926">::</font> <font color="#b58900">Show</font> <font color="#dccf8f">a</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b58900">IO</font> <font color="#b58900">()</font> <font color="#586e75"><i>-- &lt;- that () is the problem</i></font>
</pre></section><section><span>a Traversal is Applicative (and thus Monadic)</span><pre>  <font color="#b64926">let</font> <font color="#dccf8f">myprint</font> <font color="#b64926">::</font> <font color="#b58900">Show</font> <font color="#dccf8f">a</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#b58900">IO</font> <font color="#dccf8f">a</font>
      <font color="#dccf8f">myprint</font> <font color="#dccf8f">a</font> <font color="#b64926">=</font> <font color="#b64926">do</font>
        <font color="#dccf8f">print</font> <font color="#dccf8f">a</font>
        <font color="#dccf8f">return</font> <font color="#dccf8f">a</font>

  <font color="#dccf8f">text</font> <font color="#dccf8f">myprint</font> <font color="#586e75">"12"</font> <font color="#b64926">::</font> <font color="#b58900">IO</font> <font color="#b58900">String</font>
  <font color="#586e75">'1'</font>
  <font color="#586e75">'2'</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">returns</font> <font color="#586e75">"12"</font><font color="#dccf8f">)</font>

  <font color="#586e75"><i>-- (&gt;=&gt;) is like the (.) of Monads</i></font>
  <font color="#dccf8f">text</font> <font color="#dccf8f">(</font><font color="#dccf8f">myprint</font> <font color="#dccf8f">&gt;=&gt;</font> <font color="#dccf8f">myprint</font><font color="#dccf8f">)</font> <font color="#586e75">"1"</font> <font color="#b64926">::</font> <font color="#b58900">IO</font> <font color="#b58900">String</font>
  <font color="#586e75">'1'</font>
  <font color="#586e75">'1'</font>
  <font color="#dccf8f">(</font><font color="#dccf8f">returns</font> <font color="#586e75">"1"</font><font color="#dccf8f">)</font>
</pre></section></section><section><section><img style="width: 50%; height: 100%" src="https://imgur.com/ALlbPRa.png"></section></section><section><section><h5>Lens</h5><pre>  <font color="#b64926">type</font> <font color="#b58900">Lens</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">=</font>
      <font color="#b58900">Functor</font> <font color="#dccf8f">f</font> <font color="#b64926">=&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">f</font> <font color="#dccf8f">t</font>

  <font color="#b64926">type</font> <font color="#b58900">Lens'</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">=</font> <font color="#b58900">Simple</font> <font color="#b58900">Lens</font> <font color="#b64926">=</font> <font color="#b58900">Lens</font> <font color="#dccf8f">s</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font>
</pre></section><section><figure><figcaption>If you have a Lens&#39; a b, you also have:</figcaption></figure></section><section><figure><figcaption>If you have a Lens&#39; a b, you also have:</figcaption></figure><ul><li>a Getter a b</li></ul></section><section><figure><figcaption>If you have a Lens&#39; a b, you also have:</figcaption></figure><ul><li>a Getter a b</li><li>a Setter&#39; a b</li></ul></section><section><figure><figcaption>If you have a Lens&#39; a b, you also have:</figcaption></figure><ul><li>a Getter a b</li><li>a Setter&#39; a b</li><li>a Fold a b</li></ul></section><section><figure><figcaption>If you have a Lens&#39; a b, you also have:</figcaption></figure><ul><li>a Getter a b</li><li>a Setter&#39; a b</li><li>a Fold a b</li><li>a Traveral&#39; a b</li></ul></section><section><span>a lens can be constructed from a get and modify function</span><pre>  <font color="#dccf8f">lens</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Lens</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font>
  <font color="#dccf8f">lens</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Lens'</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font>
</pre></section><section><pre>  <font color="#b64926">data</font> <font color="#b58900">Person</font> <font color="#b64926">=</font> <font color="#b58900">Person</font> <font color="#b58900">Name</font> <font color="#b58900">Gender</font> <font color="#b64926">[</font><font color="#b58900">Person</font><font color="#b64926">]</font> <font color="#b64926">deriving</font> <font color="#b58900">Show</font>
  <font color="#b64926">newtype</font> <font color="#b58900">Name</font> <font color="#b64926">=</font> <font color="#b58900">Name</font> <font color="#b58900">T</font><font color="#dccf8f">.</font><font color="#b58900">Text</font> <font color="#b64926">deriving</font> <font color="#b58900">Show</font>

  <font color="#dccf8f">putin</font><font color="#dccf8f">,</font> <font color="#dccf8f">hismom</font><font color="#dccf8f">,</font> <font color="#dccf8f">hisdad</font> <font color="#b64926">::</font> <font color="#b58900">Person</font>
  <font color="#dccf8f">putin</font> <font color="#b64926">=</font> <font color="#b58900">Person</font> <font color="#586e75">"Vladimir Vladimirovich Putin"</font>
                 <font color="#b58900">Male</font> <font color="#b64926">[</font><font color="#dccf8f">hismom</font><font color="#dccf8f">,</font> <font color="#dccf8f">hisdad</font><font color="#b64926">]</font>
  <font color="#dccf8f">hismom</font> <font color="#b64926">=</font> <font color="#b58900">Person</font> <font color="#dccf8f">...</font>
  <font color="#dccf8f">hisdad</font> <font color="#b64926">=</font> <font color="#b58900">Person</font> <font color="#dccf8f">...</font>

  <font color="#b64926">let</font> <font color="#dccf8f">mylens</font> <font color="#b64926">::</font> <font color="#b58900">Lens'</font> <font color="#b58900">Person</font> <font color="#b58900">Name</font>
      <font color="#dccf8f">mylens</font> <font color="#b64926">=</font> <font color="#dccf8f">lens</font>
        <font color="#dccf8f">(</font><font color="#b64926">\</font><font color="#dccf8f">(</font><font color="#b58900">Person</font> <font color="#dccf8f">n</font> <font color="#b64926">_</font> <font color="#b64926">_</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">n</font><font color="#dccf8f">)</font>
        <font color="#dccf8f">(</font><font color="#b64926">\</font><font color="#dccf8f">(</font><font color="#b58900">Person</font> <font color="#dccf8f">old</font> <font color="#dccf8f">g</font> <font color="#dccf8f">p</font><font color="#dccf8f">)</font> <font color="#dccf8f">new</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Person</font> <font color="#dccf8f">new</font> <font color="#dccf8f">g</font> <font color="#dccf8f">p</font><font color="#dccf8f">)</font>
</pre></section><section><pre>  <font color="#dccf8f">mylens</font> <font color="#b64926">::</font> <font color="#b58900">Lens'</font> <font color="#b58900">Person</font> <font color="#b58900">Name</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">putin</font>
  <font color="#b58900">Person</font> <font color="#dccf8f">(</font><font color="#b58900">Name</font> <font color="#586e75">"Vladimir Vladimirovich Putin"</font><font color="#dccf8f">)</font> <font color="#b58900">Male</font> <font color="#b64926">[</font><font color="#b58900">Per</font><font color="#dccf8f">...</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">view</font> <font color="#dccf8f">mylens</font> <font color="#dccf8f">putin</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">putin</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">mylens</font>
  <font color="#b58900">Name</font> <font color="#586e75">"Vladimir Vladimirovich Putin"</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">set</font> <font color="#dccf8f">mylens</font> <font color="#dccf8f">(</font><font color="#b58900">Name</font> <font color="#586e75">"mchealy"</font><font color="#dccf8f">)</font> <font color="#dccf8f">putin</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">putin</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">mylens</font> <font color="#dccf8f">.~</font> <font color="#b58900">Name</font> <font color="#586e75">"mchealy"</font>
  <font color="#b58900">Person</font> <font color="#dccf8f">(</font><font color="#b58900">Name</font> <font color="#586e75">"mchealy"</font><font color="#dccf8f">)</font> <font color="#b58900">Male</font> <font color="#b64926">[</font><font color="#b58900">Person</font> <font color="#586e75">"Maria "</font><font color="#dccf8f">...</font>
</pre></section><section><span>you can also derive Lens&#39; from your own types via TH</span><pre><font color="#586e75"><i>{-# LANGUAGE TemplateHaskell, QuasiQuotes #-}</i></font>

<font color="#dccf8f">...</font>

<font color="#dccf8f">declareLenses</font> <font color="#b64926">[</font><font color="#dccf8f">d</font><font color="#b64926">|</font>

  <font color="#b64926">data</font> <font color="#b58900">Person</font> <font color="#b64926">=</font> <font color="#b58900">Person</font> <font color="#dccf8f">{</font>
    <font color="#dccf8f">pname</font> <font color="#b64926">::</font> <font color="#b58900">Name</font><font color="#dccf8f">,</font>
    <font color="#dccf8f">pgender</font> <font color="#b64926">::</font> <font color="#b58900">Gender</font><font color="#dccf8f">,</font>
    <font color="#dccf8f">parents</font> <font color="#b64926">::</font> <font color="#b64926">[</font><font color="#b58900">Person</font><font color="#b64926">]</font>
  <font color="#dccf8f">}</font> <font color="#b64926">deriving</font> <font color="#b58900">Show</font>

  <font color="#b64926">|</font><font color="#b64926">]</font></pre></section><section><span>resulting in these lenses</span><pre>  <font color="#b64926">data</font> <font color="#b58900">Person</font> <font color="#b64926">=</font> <font color="#b58900">Person</font> <font color="#b58900">Name</font> <font color="#b58900">Gender</font> <font color="#b64926">[</font><font color="#b58900">Person</font><font color="#b64926">]</font>

  <font color="#dccf8f">pname</font> <font color="#b64926">::</font> <font color="#b58900">Lens'</font> <font color="#b58900">Person</font> <font color="#b58900">Name</font>
  <font color="#dccf8f">pgender</font> <font color="#b64926">::</font> <font color="#b58900">Lens'</font> <font color="#b58900">Person</font> <font color="#b58900">Gender</font>
  <font color="#dccf8f">parents</font> <font color="#b64926">::</font> <font color="#b58900">Lens'</font> <font color="#b58900">Person</font> <font color="#b64926">[</font><font color="#b58900">Person</font><font color="#b64926">]</font>

</pre></section><section><pre>  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">view</font> <font color="#dccf8f">pname</font> <font color="#dccf8f">putin</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">putin</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">pname</font>
  <font color="#b58900">Name</font> <font color="#586e75">"Vladimir Vladimirovich Putin"</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">view</font> <font color="#dccf8f">parents</font> <font color="#dccf8f">putin</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">putin</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">parents</font>
  <font color="#b64926">[</font><font color="#b58900">Person</font> <font color="#dccf8f">(</font><font color="#b58900">Name</font> <font color="#586e75">"Maria Ivanovna Putina"</font><font color="#dccf8f">)</font> <font color="#b58900">Female</font> <font color="#b58900">[]</font><font color="#dccf8f">,</font>
   <font color="#b58900">Person</font> <font color="#dccf8f">(</font><font color="#b58900">Name</font> <font color="#586e75">"Vladimir Spiridonovich Putin"</font><font color="#dccf8f">)</font> <font color="#b58900">Male</font> <font color="#b58900">[]</font><font color="#b64926">]</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">toListOf</font> <font color="#dccf8f">(</font><font color="#dccf8f">parents</font> <font color="#dccf8f">.</font> <font color="#dccf8f">traverse</font> <font color="#dccf8f">.</font> <font color="#dccf8f">pname</font><font color="#dccf8f">)</font> <font color="#dccf8f">putin</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">putin</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">parents</font> <font color="#dccf8f">.</font> <font color="#dccf8f">traverse</font> <font color="#dccf8f">.</font> <font color="#dccf8f">pname</font>
  <font color="#b64926">[</font><font color="#b58900">Name</font> <font color="#586e75">"Maria Ivanovna Putina"</font><font color="#dccf8f">,</font>
   <font color="#b58900">Name</font> <font color="#586e75">"Vladimir Spiridonovich Putin"</font><font color="#b64926">]</font>
</pre></section><section><span>there isn&#39;t much you can&#39;t do at this point</span><pre>  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">putin</font> <font color="#dccf8f">^?</font> <font color="#dccf8f">parents</font> <font color="#dccf8f">.</font> <font color="#dccf8f">traversed</font> <font color="#dccf8f">.</font>
             <font color="#dccf8f">filtered</font> <font color="#dccf8f">(</font><font color="#dccf8f">not</font> <font color="#dccf8f">.</font> <font color="#dccf8f">isFemale</font><font color="#dccf8f">)</font> <font color="#dccf8f">.</font> <font color="#dccf8f">pname</font>
  <font color="#b58900">Just</font> <font color="#dccf8f">(</font><font color="#b58900">Name</font> <font color="#586e75">"Vladimir Spiridonovich Putin"</font><font color="#dccf8f">)</font>

  <font color="#dccf8f">&gt;</font> <font color="#b64926">let</font> <font color="#dccf8f">flipgender</font> <font color="#b58900">Male</font> <font color="#b64926">=</font> <font color="#b58900">Female</font><font color="#dccf8f">;</font> <font color="#dccf8f">flipgender</font> <font color="#b58900">Female</font> <font color="#b64926">=</font> <font color="#b58900">Male</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">putin</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">(</font><font color="#dccf8f">parents</font> <font color="#dccf8f">.</font> <font color="#dccf8f">traversed</font> <font color="#dccf8f">.</font> <font color="#dccf8f">gender</font><font color="#dccf8f">)</font> <font color="#dccf8f">flipgender</font>
  <font color="#b58900">Person</font> <font color="#dccf8f">(</font><font color="#b58900">Name</font> <font color="#586e75">"Vladimir Vladimirovich Putin"</font><font color="#dccf8f">)</font> <font color="#b58900">Male</font> <font color="#b64926">[</font>
    <font color="#b58900">Person</font> <font color="#dccf8f">(</font><font color="#b58900">Name</font> <font color="#586e75">"Maria Ivanovna Putina"</font><font color="#dccf8f">)</font> <font color="#b58900">Male</font> <font color="#b58900">[]</font><font color="#dccf8f">,</font>
    <font color="#b58900">Person</font> <font color="#dccf8f">(</font><font color="#b58900">Name</font> <font color="#586e75">"Vladimir Spiridonovich Putin"</font><font color="#dccf8f">)</font> <font color="#b58900">Female</font> <font color="#b58900">[]</font>
  <font color="#b64926">]</font>
</pre></section></section><section><section><img style="width: 50%; height: 100%" src="https://imgur.com/ALlbPRa.png"></section></section><section><section><h5>Iso</h5><pre>  <font color="#b64926">type</font> <font color="#b58900">Iso</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">=</font>
    <font color="#dccf8f">(</font><font color="#b58900">Profunctor</font> <font color="#dccf8f">p</font><font color="#dccf8f">,</font> <font color="#b58900">Functor</font> <font color="#dccf8f">f</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
      <font color="#dccf8f">p</font> <font color="#dccf8f">a</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">p</font> <font color="#dccf8f">s</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">t</font><font color="#dccf8f">)</font>

  <font color="#b64926">type</font> <font color="#b58900">Iso'</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">=</font> <font color="#b58900">Simple</font> <font color="#b58900">Iso</font> <font color="#b64926">=</font> <font color="#b58900">Iso</font> <font color="#dccf8f">s</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font>
</pre></section><section><span>Iso comes from the word &quot;isomorphism&quot;</span>which means roughly equivalent, the same, interchangeable</section><section><span>you can construct an Iso from two functions (a -&gt; b) and (b -&gt; a)</span><pre>  <font color="#dccf8f">iso</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Iso'</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font>

  <font color="#dccf8f">from</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Functor</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Profunctor</font> <font color="#dccf8f">p</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
     <font color="#b58900">AnIso</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">p</font> <font color="#dccf8f">t</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">s</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">p</font> <font color="#dccf8f">b</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font>
  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">from</font> <font color="#b64926">::</font> <font color="#b58900">Iso'</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Iso'</font> <font color="#dccf8f">b</font> <font color="#dccf8f">a</font>
</pre></section><section><pre>  <font color="#b64926">import</font> <font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Char</font>
  <font color="#b64926">let</font> <font color="#dccf8f">myiso</font> <font color="#b64926">::</font> <font color="#b58900">Iso'</font> <font color="#b58900">Char</font> <font color="#b58900">Char</font>
      <font color="#dccf8f">myiso</font> <font color="#b64926">=</font> <font color="#dccf8f">iso</font> <font color="#dccf8f">toUpper</font> <font color="#dccf8f">toLower</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">view</font> <font color="#dccf8f">myiso</font> <font color="#586e75">'a'</font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">'a'</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">myiso</font>
  <font color="#586e75"><i>-- also 'A' ^. myiso</i></font>
  <font color="#586e75">'A'</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">view</font> <font color="#dccf8f">(</font><font color="#dccf8f">from</font> <font color="#dccf8f">myiso</font><font color="#dccf8f">)</font> <font color="#586e75">'A'</font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">'A'</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">from</font> <font color="#dccf8f">myiso</font>
  <font color="#586e75"><i>-- also 'a' ^. from myiso</i></font>
  <font color="#586e75">'a'</font>
</pre></section><section><span>there are lots of useful isos</span><pre>  <font color="#dccf8f">enum</font> <font color="#b64926">::</font> <font color="#b58900">Enum</font> <font color="#dccf8f">a</font> <font color="#b64926">=&gt;</font> <font color="#b58900">Iso'</font> <font color="#b58900">Int</font> <font color="#dccf8f">a</font>
  <font color="#dccf8f">reversed</font> <font color="#b64926">::</font> <font color="#b58900">Reversing</font> <font color="#dccf8f">a</font> <font color="#b64926">=&gt;</font> <font color="#b58900">Iso'</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font> 
  <font color="#b64926">instance</font> <font color="#b58900">Reversing</font> <font color="#b58900">Text</font>
  <font color="#b64926">instance</font> <font color="#b58900">Reversing</font> <font color="#b58900">String</font>
  <font color="#b64926">..</font> <font color="#dccf8f">others</font>

  <font color="#dccf8f">lazy</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#b58900">Functor</font> <font color="#dccf8f">f</font><font color="#dccf8f">,</font> <font color="#b58900">Profunctor</font> <font color="#dccf8f">p</font><font color="#dccf8f">,</font> <font color="#b58900">Strict</font> <font color="#dccf8f">lazy</font> <font color="#dccf8f">strict</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
     <font color="#dccf8f">p</font> <font color="#dccf8f">lazy</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">lazy</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">p</font> <font color="#dccf8f">strict</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">strict</font><font color="#dccf8f">)</font>
  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">lazy</font> <font color="#b64926">::</font> <font color="#b58900">Strict</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">=&gt;</font> <font color="#b58900">Iso'</font> <font color="#dccf8f">b</font> <font color="#dccf8f">a</font>
  <font color="#b64926">instance</font> <font color="#b58900">Strict</font> <font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Text</font><font color="#dccf8f">.</font><font color="#b58900">Lazy</font> <font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Text</font>
  <font color="#b64926">instance</font> <font color="#b58900">Strict</font> <font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">ByteString</font><font color="#dccf8f">.</font><font color="#b58900">Lazy</font> <font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">ByteString</font>
</pre></section><section><pre>  <font color="#dccf8f">&gt;</font><font color="#586e75">"asdf"</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">reversed</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">from</font> <font color="#dccf8f">reversed</font>
  <font color="#586e75">"asdf"</font>
  
  <font color="#dccf8f">&gt;:</font><font color="#dccf8f">t</font> <font color="#dccf8f">(</font><font color="#586e75">"asdf"</font> <font color="#b64926">::</font>  <font color="#b58900">T</font><font color="#dccf8f">.</font><font color="#b58900">Text</font><font color="#dccf8f">)</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">lazy</font>
  <font color="#dccf8f">(</font><font color="#586e75">"asdf"</font> <font color="#b64926">::</font>  <font color="#b58900">T</font><font color="#dccf8f">.</font><font color="#b58900">Text</font><font color="#dccf8f">)</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">lazy</font> <font color="#b64926">::</font> <font color="#b58900">LT</font><font color="#dccf8f">.</font><font color="#b58900">Text</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">(</font><font color="#586e75">"asdf"</font> <font color="#b64926">::</font>  <font color="#b58900">T</font><font color="#dccf8f">.</font><font color="#b58900">Text</font><font color="#dccf8f">)</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">lazy</font> <font color="#dccf8f">.~</font> <font color="#dccf8f">(</font><font color="#586e75">"asdf"</font> <font color="#b64926">::</font> <font color="#b58900">LT</font><font color="#dccf8f">.</font><font color="#b58900">Text</font><font color="#dccf8f">)</font>
  <font color="#586e75">"asdf"</font> <font color="#586e75"><i>-- :: LT.Text</i></font>
  <font color="#dccf8f">&gt;</font><font color="#dccf8f">(</font><font color="#586e75">"asdf"</font> <font color="#b64926">::</font>  <font color="#b58900">LT</font><font color="#dccf8f">.</font><font color="#b58900">Text</font><font color="#dccf8f">)</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">from</font> <font color="#dccf8f">lazy</font> <font color="#dccf8f">.~</font> <font color="#dccf8f">(</font><font color="#586e75">"asdf"</font> <font color="#b64926">::</font> <font color="#b58900">T</font><font color="#dccf8f">.</font><font color="#b58900">Text</font><font color="#dccf8f">)</font>
  <font color="#586e75">"asdf"</font> <font color="#586e75"><i>-- :: T.Text</i></font>

  <font color="#dccf8f">&gt;</font><font color="#586e75">97</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">enum</font> <font color="#b64926">::</font> <font color="#b58900">Char</font>
 <font color="#586e75">'a'</font>

  <font color="#dccf8f">(</font><font color="#586e75">"asdf"</font> <font color="#b64926">::</font> <font color="#b64926">[</font><font color="#b58900">Char</font><font color="#b64926">]</font><font color="#dccf8f">)</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">traverse</font> <font color="#dccf8f">.</font> <font color="#dccf8f">from</font> <font color="#dccf8f">enum</font>
  <font color="#b64926">[</font><font color="#586e75">97</font><font color="#dccf8f">,</font><font color="#586e75">115</font><font color="#dccf8f">,</font><font color="#586e75">100</font><font color="#dccf8f">,</font><font color="#586e75">102</font><font color="#b64926">]</font>
</pre></section></section><section><section><img style="width: 50%; height: 100%" src="https://imgur.com/ALlbPRa.png"></section></section><section><section><h5>Prism</h5><pre>  <font color="#b64926">type</font> <font color="#b58900">Prism</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">=</font>
    <font color="#dccf8f">(</font><font color="#b58900">Choice</font> <font color="#dccf8f">p</font><font color="#dccf8f">,</font> <font color="#b58900">Applicative</font> <font color="#dccf8f">f</font><font color="#dccf8f">)</font> <font color="#b64926">=&gt;</font>
      <font color="#dccf8f">p</font> <font color="#dccf8f">a</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">b</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">p</font> <font color="#dccf8f">s</font> <font color="#dccf8f">(</font><font color="#dccf8f">f</font> <font color="#dccf8f">t</font><font color="#dccf8f">)</font>

  <font color="#b64926">type</font> <font color="#b58900">Prism'</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#b64926">=</font> <font color="#b58900">Simple</font> <font color="#b58900">Prism</font> <font color="#b64926">=</font> <font color="#b58900">Prism</font> <font color="#dccf8f">s</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font>
</pre></section><section><span>A Prism a b allows for an a to possibly be converted to a b</span></section><section><span>and if you managed to turn it into a b, then it definitely can be turned back into an a</span></section><section><pre>  <font color="#dccf8f">re</font> <font color="#b64926">::</font> <font color="#b58900">Contravariant</font> <font color="#dccf8f">f</font> <font color="#b64926">=&gt;</font> <font color="#b58900">AReview</font> <font color="#dccf8f">t</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#b58900">LensLike'</font> <font color="#dccf8f">f</font> <font color="#dccf8f">b</font> <font color="#dccf8f">t</font>
  <font color="#586e75"><i>-- idealized</i></font>
  <font color="#dccf8f">re</font> <font color="#b64926">::</font> <font color="#b58900">Prism'</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Getter</font> <font color="#dccf8f">b</font> <font color="#dccf8f">a</font>

  <font color="#586e75"><i>-- allows s and t to differ</i></font>
  <font color="#dccf8f">prism</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">t</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Either</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Prism</font> <font color="#dccf8f">s</font> <font color="#dccf8f">t</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> 

  <font color="#586e75"><i>-- more often used</i></font>
  <font color="#dccf8f">prism'</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">b</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Maybe</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Prism</font> <font color="#dccf8f">s</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font> <font color="#dccf8f">b</font> 

  <font color="#586e75"><i>-- for our uses</i></font>
  <font color="#dccf8f">prism'</font> <font color="#b64926">::</font> <font color="#dccf8f">(</font><font color="#dccf8f">a</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">s</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#dccf8f">(</font><font color="#dccf8f">s</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Maybe</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font> <font color="#b64926">-&gt;</font> <font color="#b58900">Prism'</font> <font color="#dccf8f">s</font> <font color="#dccf8f">a</font>
</pre></section><section><pre>  <font color="#b64926">import</font> <font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Int</font>

  <font color="#b64926">let</font> <font color="#dccf8f">myprism</font> <font color="#b64926">::</font> <font color="#b58900">Prism'</font> <font color="#b58900">Int64</font> <font color="#b58900">Int8</font>
      <font color="#dccf8f">myprism</font> <font color="#b64926">=</font> <font color="#dccf8f">prism'</font> <font color="#dccf8f">fromIntegral</font> <font color="#dccf8f">(</font><font color="#b64926">\</font><font color="#dccf8f">i</font> <font color="#b64926">-&gt;</font>
        <font color="#b64926">if</font> <font color="#dccf8f">i</font> <font color="#dccf8f">&lt;=</font> <font color="#586e75">127</font> <font color="#dccf8f">&amp;&amp;</font> <font color="#dccf8f">i</font> <font color="#dccf8f">&gt;=</font> <font color="#dccf8f">(</font><font color="#586e75"><i>-</i></font><font color="#586e75">128</font><font color="#dccf8f">)</font>
          <font color="#b64926">then</font> <font color="#b58900">Just</font> <font color="#dccf8f">(</font><font color="#dccf8f">fromIntegral</font> <font color="#dccf8f">i</font><font color="#dccf8f">)</font>
          <font color="#b64926">else</font> <font color="#b58900">Nothing</font><font color="#dccf8f">)</font>

  <font color="#dccf8f">&gt;</font> <font color="#586e75">12</font> <font color="#dccf8f">^?</font> <font color="#dccf8f">myprism</font>
  <font color="#b58900">Just</font> <font color="#586e75">12</font>

  <font color="#dccf8f">&gt;</font> <font color="#586e75">999</font> <font color="#dccf8f">^?</font> <font color="#dccf8f">myprism</font>
  <font color="#b58900">Nothing</font>

  <font color="#dccf8f">&gt;:</font><font color="#dccf8f">t</font>  <font color="#586e75">12</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">re</font> <font color="#dccf8f">myprism</font>
  <font color="#586e75">12</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">re</font> <font color="#dccf8f">myprism</font> <font color="#b64926">::</font> <font color="#b58900">Int64</font>
</pre></section><section><pre>  <font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Text</font><font color="#dccf8f">.</font><font color="#b58900">Lazy</font><font color="#dccf8f">.</font><font color="#dccf8f">utf8</font> <font color="#b64926">::</font> <font color="#b58900">Prism'</font> <font color="#b58900">ByteString</font> <font color="#b58900">Text</font>
  
  <font color="#586e75"><i>-- This bs could have invalid characters in it</i></font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">(</font><font color="#586e75">"asdf"</font> <font color="#b64926">::</font> <font color="#b58900">ByteString</font><font color="#dccf8f">)</font> <font color="#dccf8f">^?</font> <font color="#dccf8f">utf8</font>
  <font color="#b58900">Just</font> <font color="#586e75">"asdf"</font> <font color="#586e75"><i>-- :: Text</i></font>

  <font color="#586e75"><i>-- Text can always be converted back to bytestring</i></font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">(</font><font color="#586e75">"asdf"</font> <font color="#b64926">::</font> <font color="#b58900">Text</font><font color="#dccf8f">)</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">re</font> <font color="#dccf8f">utf8</font>
  <font color="#586e75">"asdf"</font> <font color="#586e75"><i>-- :: ByteString</i></font>
</pre></section></section><section><section><h5>Plated (optional)</h5><pre>  <font color="#b64926">class</font> <font color="#b58900">Plated</font> <font color="#dccf8f">a</font> <font color="#b64926">where</font>
    <font color="#dccf8f">plate</font> <font color="#b64926">::</font> <font color="#b58900">Traversal'</font> <font color="#dccf8f">a</font> <font color="#dccf8f">a</font>

  <font color="#b64926">instance</font> <font color="#b58900">Plated</font> <font color="#b64926">[</font><font color="#dccf8f">a</font><font color="#b64926">]</font>
  <font color="#b64926">instance</font> <font color="#b58900">Plated</font> <font color="#dccf8f">(</font><font color="#b58900">Tree</font> <font color="#dccf8f">a</font><font color="#dccf8f">)</font>

  <font color="#b64926">data</font> <font color="#b58900">Person</font> <font color="#b64926">=</font> <font color="#b58900">Person</font> <font color="#b58900">Name</font> <font color="#b58900">Gender</font> <font color="#b64926">[</font><font color="#b58900">Person</font><font color="#b64926">]</font> <font color="#b64926">deriving</font> <font color="#b58900">Show</font>
  <font color="#dccf8f">parents</font> <font color="#b64926">::</font> <font color="#b58900">Lens'</font> <font color="#b58900">Person</font> <font color="#b64926">[</font><font color="#b58900">Person</font><font color="#b64926">]</font>

  <font color="#b64926">instance</font> <font color="#b58900">Plated</font> <font color="#b58900">Person</font> <font color="#b64926">where</font>
    <font color="#dccf8f">plate</font> <font color="#b64926">=</font> <font color="#dccf8f">parents</font> <font color="#dccf8f">.</font> <font color="#dccf8f">traverse</font>
</pre></section><section><pre>  <font color="#dccf8f">l</font> <font color="#dccf8f">...</font> <font color="#dccf8f">m</font> <font color="#b64926">=</font> <font color="#dccf8f">l</font> <font color="#dccf8f">.</font> <font color="#dccf8f">plate</font> <font color="#dccf8f">.</font> <font color="#dccf8f">m</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">putin</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">pname</font>
  <font color="#b64926">[</font><font color="#b58900">Name</font> <font color="#586e75">"Vladimir Vladimirovich Putin"</font><font color="#b64926">]</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">putin</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">id</font> <font color="#dccf8f">...</font> <font color="#dccf8f">pname</font> <font color="#586e75"><i>-- children</i></font>
  <font color="#b64926">[</font><font color="#b58900">Name</font> <font color="#586e75">"Maria Ivanovna Putina"</font><font color="#dccf8f">,</font>
   <font color="#b58900">Name</font> <font color="#586e75">"Vladimir Spiridonovich Putin"</font><font color="#b64926">]</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">putin</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">id</font> <font color="#dccf8f">...</font> <font color="#dccf8f">id</font> <font color="#dccf8f">...</font> <font color="#dccf8f">pname</font> <font color="#586e75"><i>-- grand children</i></font>
  <font color="#b58900">[]</font>
</pre></section><section><pre>  <font color="#dccf8f">&gt;</font> <font color="#b64926">let</font> <font color="#dccf8f">newputin</font> <font color="#b64926">=</font>
     <font color="#dccf8f">putin</font> <font color="#dccf8f">&amp;</font> <font color="#dccf8f">over</font> <font color="#dccf8f">(</font><font color="#dccf8f">parents</font> <font color="#dccf8f">.</font> <font color="#dccf8f">element</font> <font color="#586e75">0</font> <font color="#dccf8f">.</font> <font color="#dccf8f">parents</font><font color="#dccf8f">)</font>
        <font color="#dccf8f">(</font><font color="#dccf8f">&lt;&gt;</font> <font color="#b64926">[</font><font color="#b58900">Person</font> <font color="#586e75">"mchealy"</font> <font color="#b58900">Male</font> <font color="#b58900">[]</font><font color="#b64926">]</font><font color="#dccf8f">)</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">newputin</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">id</font> <font color="#dccf8f">...</font> <font color="#dccf8f">id</font> <font color="#dccf8f">...</font> <font color="#dccf8f">pname</font>
  <font color="#b64926">[</font><font color="#b58900">Name</font> <font color="#586e75">"mchealy"</font><font color="#b64926">]</font>
</pre></section></section><section><section><h5>Real life examples</h5></section><section><span>xml-html-conduit-lens</span><pre>
  <font color="#dccf8f">xml</font> <font color="#b64926">::</font> <font color="#b58900">HaxXML</font> <font color="#dccf8f">a</font> <font color="#b64926">=&gt;</font> <font color="#b58900">Traversal'</font> <font color="#dccf8f">a</font> <font color="#b58900">Element</font>
  <font color="#b64926">instance</font> <font color="#b58900">HasXML</font> <font color="#b58900">Document</font>
  <font color="#b64926">instance</font> <font color="#b58900">HasXML</font> <font color="#b58900">LT</font><font color="#dccf8f">.</font><font color="#b58900">Text</font>
  <font color="#b64926">instance</font> <font color="#b58900">Plated</font> <font color="#b58900">Element</font>

  <font color="#b64926">import</font> <font color="#b64926">qualified</font> <font color="#b58900">Data</font><font color="#dccf8f">.</font><font color="#b58900">Text</font><font color="#dccf8f">.</font><font color="#b58900">Lazy</font> <font color="#b64926">as</font> <font color="#b58900">LT</font>
  <font color="#b64926">let</font> <font color="#dccf8f">doc</font> <font color="#b64926">::</font> <font color="#b58900">LT</font><font color="#dccf8f">.</font><font color="#b58900">Text</font>
      <font color="#dccf8f">doc</font> <font color="#b64926">=</font> <font color="#586e75">"&lt;root&gt;&lt;channel&gt;&lt;title&gt;craigslist louisville
              &lt;/title&gt;&lt;channel&gt;&lt;/root&gt;"</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">:</font><font color="#dccf8f">t</font>  <font color="#dccf8f">doc</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">xml</font>
  <font color="#b64926">[</font><font color="#b58900">Element</font> <font color="#dccf8f">{</font><font color="#dccf8f">elementName</font> <font color="#b64926">=</font> <font color="#b58900">Name</font> <font color="#dccf8f">{</font><font color="#dccf8f">nameLocalName</font> <font color="#b64926">=</font> <font color="#586e75">"root"</font><font color="#dccf8f">,</font> <font color="#dccf8f">name</font> <font color="#dccf8f">...</font>
</pre></section><section><span>xml-html-conduit-lens</span><pre>  <font color="#dccf8f">&gt;</font><font color="#dccf8f">doc</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">xml</font> <font color="#dccf8f">.</font> <font color="#dccf8f">name</font>
  <font color="#586e75">"root"</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">doc</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">xml</font> <font color="#dccf8f">...</font> <font color="#dccf8f">name</font> <font color="#dccf8f">.</font> <font color="#dccf8f">text</font>
  <font color="#586e75">"channel"</font>

  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">doc</font> <font color="#dccf8f">^.</font> <font color="#dccf8f">xml</font> <font color="#dccf8f">...</font> <font color="#dccf8f">texts</font>
  <font color="#586e75">"craigslist louisville"</font>

  <font color="#dccf8f">&gt;</font> <font color="#b64926">let</font>
      <font color="#dccf8f">channeln</font> <font color="#b64926">::</font> <font color="#b58900">Traversal'</font> <font color="#b58900">Element</font> <font color="#b58900">Element</font>
      <font color="#dccf8f">channeln</font> <font color="#b64926">=</font> <font color="#dccf8f">node</font> <font color="#586e75">"{http://purl.org/rss/1.0/}channel"</font>

  <font color="#586e75"><i>-- assuming doc has namespaces</i></font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">doc</font> <font color="#dccf8f">^..</font> <font color="#dccf8f">xml</font> <font color="#dccf8f">.</font> <font color="#dccf8f">channeln</font> <font color="#dccf8f">.</font> <font color="#dccf8f">name</font> <font color="#b64926">::</font> <font color="#b64926">[</font><font color="#b58900">Text</font><font color="#b64926">]</font>
</pre></section><section><span>lens-aeson</span><pre>  <font color="#586e75"><i>-- create aeson values</i></font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">_Integer</font> <font color="#dccf8f"><em>#</em></font> <font color="#586e75">1</font> <font color="#b64926">::</font> <font color="#b58900">Value</font>
  <font color="#b58900">Number</font> <font color="#586e75">1.0</font>
  
  <font color="#dccf8f">:</font><font color="#dccf8f">set</font> <font color="#586e75"><i>-</i></font><font color="#b58900">XOverloadedLists</font><font color="#dccf8f">,</font> <font color="#dccf8f">:</font><font color="#dccf8f">set</font> <font color="#b58900">XOverloadedStrings</font>
  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">_Object</font> <font color="#dccf8f"><em>#</em></font> <font color="#b64926">[</font><font color="#dccf8f">(</font><font color="#586e75">"key"</font><font color="#dccf8f">,</font> <font color="#dccf8f">_String</font> <font color="#dccf8f"><em>#</em></font> <font color="#586e75">"value"</font><font color="#dccf8f">)</font><font color="#b64926">]</font> <font color="#b64926">::</font> <font color="#b58900">Text</font>
  <font color="#586e75">"{\"key\":\"value\"}"</font>


  <font color="#dccf8f">&gt;</font> <font color="#dccf8f">_Object</font> <font color="#dccf8f"><em>#</em></font> <font color="#b64926">[</font><font color="#dccf8f">(</font><font color="#586e75">"key"</font><font color="#dccf8f">,</font> <font color="#dccf8f">_String</font> <font color="#dccf8f"><em>#</em></font> <font color="#586e75">"value"</font><font color="#dccf8f">)</font><font color="#b64926">]</font> <font color="#b64926">::</font> <font color="#b58900">Value</font>
  <font color="#b58900">Object</font> <font color="#dccf8f">(</font><font color="#dccf8f">fromList</font> <font color="#b64926">[</font><font color="#dccf8f">(</font><font color="#586e75">"key"</font><font color="#dccf8f">,</font><font color="#b58900">String</font> <font color="#586e75">"value"</font><font color="#dccf8f">)</font><font color="#b64926">]</font><font color="#dccf8f">)</font>

  <font color="#586e75"><i>-- piece of cake</i></font>
</pre></section><section><span>lens-aeson</span><pre>  <font color="#586e75"><i>-- parse json</i></font>
  <font color="#dccf8f">&gt;</font> <font color="#586e75">"[1,2,3,4,\"adsf\"]"</font> <font color="#dccf8f">^?</font> <font color="#dccf8f">_Array</font>
  <font color="#b58900">Just</font> <font color="#b64926">[</font><font color="#b58900">Number</font> <font color="#586e75">1.0</font><font color="#dccf8f">,</font><font color="#b58900">Number</font> <font color="#586e75">2.0</font><font color="#dccf8f">,</font><font color="#b58900">Number</font> <font color="#586e75">3.0</font><font color="#dccf8f">,</font><font color="#b58900">Number</font> <font color="#586e75">4.0</font><font color="#dccf8f">,</font><font color="#b58900">String</font> <font color="#586e75">"adsf"</font><font color="#b64926">]</font>

  <font color="#dccf8f">&gt;</font> <font color="#586e75">"{\"key\":\"value\"}"</font> <font color="#dccf8f">^?</font> <font color="#dccf8f">_Array</font>
  <font color="#b58900">Nothing</font>

  <font color="#dccf8f">&gt;</font> <font color="#586e75">"[1,2,3,4,\"adsf\"]"</font> <font color="#dccf8f">^?</font> <font color="#dccf8f">_Value</font>
  <font color="#b58900">Just</font> <font color="#dccf8f">(</font><font color="#b58900">Array</font> <font color="#b64926">[</font>
   <font color="#b58900">Number</font> <font color="#586e75">1.0</font><font color="#dccf8f">,</font><font color="#b58900">Number</font> <font color="#586e75">2.0</font><font color="#dccf8f">,</font><font color="#b58900">Number</font> <font color="#586e75">3.0</font><font color="#dccf8f">,</font><font color="#b58900">Number</font> <font color="#586e75">4.0</font><font color="#dccf8f">,</font><font color="#b58900">String</font> <font color="#586e75">"adsf"</font>
  <font color="#b64926">]</font><font color="#dccf8f">)</font>

  <font color="#586e75"><i>-- piece of cake</i></font>
</pre></section></section><section><section>Thank you!</section><section>Thank you!<h5>View slides online at:</h5><span>https://mindreader.github.io/lens-slides/</span><h5 style="margin-top: 30px">Questions, comments, corrections, clarifications:</h5><span>david.mchealy@gmail.com</span></section></section></div></div><script src="public/reveal.js-3.3.0/lib/js/head.min.js"></script><script src="public/reveal.js-3.3.0/js/reveal.js"></script><script>Reveal.initialize({ 'center': true, 'controls': true, 'dependencies': [{ 'condition': (function() { return !document.body.classList; }), 'src': "public\/reveal.js-3.3.0\/lib\/js\/classList.js" }, { 'condition': (function() { return !(!(document.querySelector("[data-markdown]"))); }), 'src': "public\/reveal.js-3.3.0\/plugin\/markdown\/marked.js" }, { 'async': true, 'callback': (function() { hljs.initHighlightingOnLoad(); }), 'src': "public\/highlight\/highlight.pack.js" }], 'history': true, 'keyboard': null, 'progress': true, 'transition': "none" });</script></body></html>